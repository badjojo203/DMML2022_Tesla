<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Documentation de la librairie</title>

    <!-- Ajout de CSS pour la mise en forme -->
    <style type="text/css">
        aside {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            width: 200px;
            overflow-y: auto;
            background-color: #333;
            color: #fff;
            padding: 20px;
        }

        aside ul {
            margin: 0;
            padding: 0;
        }

        aside li {
            margin-bottom: 10px;
        }

        aside a {
            display: block;
            color: #fff;
            text-decoration: none;
        }

        aside a:hover {
            text-decoration: underline;
        }
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin-left: 30%;
            padding: 20px;
        }

        .menu {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #333;
            color: #fff;
            padding: 20px;
        }

        .menu a {
            color: #fff;
            text-decoration: none;
        }

        .menu a:hover {
            text-decoration: underline;
        }

        h1, h2, h3, h4, h5 {
            margin-bottom: 0;
            color: #333;
        }

        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        .section {
            margin-bottom: 20px;
        }

        .section h2, .section h3, .section h4, .section h5 {
            margin-top: 20px;
        }

        .section h4, .section h5 {
            margin-left: 20px;
        }

        .methods {
            display: flex;
            flex-wrap: wrap;
        }

        .method {
            width: 100%;
            margin-bottom: 20px;
        }

        .method h5 {
            margin-left: 20px;
        }

        .method ul {
            margin-left: 20px;
        }

        .method li {
            margin-bottom: 10px;
        }

        .method p {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>





<aside>
    <nav>
        <ul>
            <li><a href="#datamanager">Data manager</a></li>
            <li><a href="#datacleaner">Data cleaner</a></li>
            <li><a href="#datavectorizer">Data vectorizer</a></li>
            <li><a href="#classifiermanager">Classifier manager</a></li>
        </ul>
    </nav>
</aside>


<div class="container">



    <div class="section" id="description">
        <h2>Description</h2>
        <p>DMML HELPER library.</p>
    </div>

    <div class="section" id="classes">
        <h2>Classes</h2>

        <div class="methods">
            <div class="method">
                <h3 id="datamanager">DataManager</h3>
                <p>The DataManager class is a utility class that provides methods for preprocessing data and evaluating the performance of classifiers. It can be used to split data into training and testing sets, label encode categorical data, and optimize the test size and random state parameters for a given classifier and vectorizer.</p>

                <h4>Example usage</h4>
                <p>
                    <code>
                        manager = DataManager(data, 'y_column_name', ['x1', 'x2', 'x3'])<br>
                        manager.labelEncode('y_column_name')<br>
                        manager.splitData()<br>
                        manager.optimize_test_size(classifier, vectorizer, [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9])
                    </code>
                </p>

                <h4>Attributes</h4>
                <ul>
                    <li><strong>y_column_name</strong> (str) - The name of the column containing the labels for the data.</li>
                    <li><strong>y</strong> (pandas series) - The labels for the data.</li>
                    <li><strong>X</strong> (pandas dataframe) - The features for the data.</li>
                    <li><strong>y_test</strong> (pandas series) - The labels for the test data.</li>
                    <li><strong>y_train</strong> (pandas series) - The labels for the training data.</li>
                    <li><strong>X_test</strong> (pandas dataframe) - The features for the test data.</li>
                    <li><strong>X_train</strong> (pandas dataframe) - The features for the training data.</li>
                    <li><strong>data</strong> (pandas dataframe) - The original data.</li>
                    <li><strong>initial_data</strong> (pandas dataframe) - The original data, saved before any preprocessing is applied.</li>
                    <li><strong>initial_y_test</strong> (pandas series) - The labels for the test data, saved before any preprocessing is applied.</li>
                    <li><strong>initial_y_train</strong> (pandas series) - The labels for the training data, saved before any preprocessing is applied.</li>
                    <li><strong>initial_X_test</strong> (pandas dataframe) - The features for the test data, saved before any preprocessing is applied.</li>
                    <li><strong>initial_X_train</strong> (pandas dataframe) - The features for the training data, saved before any preprocessing is applied.</li>
                    <li><strong>encoder</strong> (sklearn.preprocessing.LabelEncoder) - An object for label encoding categorical data.</li>
                </ul>

                <h4>Méthodes</h4>
                <div class="methods">
                    <div class="method">
                        <h5>__init__</h5>
                        <p>The class constructor.</p>
                        <ul>
                            <li><strong>data</strong> (pandas dataframe) - The data to be used in the analysis.</li>
                            <li><strong>y_column_name</strong> (string) - The name of the column in the data that contains the target variable.</li>
                            <li><strong>x_column_names</strong> (list of strings) - A list of the names of the columns in the data that contain the features for the model.</li>
                        </ul>
                    </div>


                    <div class="method">
                        <h5>labelEncode</h5>
                        <p>Label encodes a specified column in the data.</p>
                        <ul>
                            <li><strong>column_name</strong> (string) - The name of the column to be label encoded.</li>
                        </ul>
                    </div>


                    <div class="method">
                        <h5>splitData</h5>
                        <p>Splits the data into training and testing sets.</p>
                        <ul>
                            <li><strong>test_size</strong> (float, optional) - The proportion of the data to be used for testing. Default is 0.2.</li>
                            <li><strong>random_state</strong> (int, optional) - The seed used by the random number generator. Default is 0.</li>
                        </ul>
                    </div>


                    <div class="method">
                        <h5>otpimize_test_size</h5>
                        <p>Finds the optimal test size for a given classifier and vectorizer by testing different test sizes and returning the one with the highest accuracy.</p>
                        <ul>
                            <li><strong>method</strong> (classifier object) - The classifier to be used.</li>
                            <li><strong>vectorizer</strong> (vectorizer object) - The vectorizer to be used.</li>
                            <li><strong>test_size_array</strong> (list of floats) - An array of test sizes to be tested.</li>
                            <li><strong>verbose</strong> (bool, optional) - If True, prints the optimal test size and its corresponding accuracy score. Default is False.</li>
                        </ul>
                        <p>Returns:</p>
                        <ul>
                            <li><strong>best_params</strong> (float) - The optimal test size.</li>
                            <li><strong>best_score</strong> (float) - The corresponding accuracy score for the optimal test size.</li>
                        </ul>
                    </div>

                    <div class="method">
                        <h5>otpimize_randomstate</h5>
                        <p>A method that optimizes the value of the random_state parameter of the train_test_split function. It returns the optimal value of the random_state parameter and the corresponding score.</p>
                        <ul>
                            <li><strong>method</strong> (object) - A classifier object that has a fit and predict method.</li>
                            <li><strong>vectorizer</strong> (object) - A vectorizer object that has a fit_transform and transform method.</li>
                            <li><strong>random_state_array</strong> (list) - A list of random states values e.g. [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].</li>
                            <li><strong>verbose</strong> (bool) - If True, print the best value of the random_state parameter and the corresponding score.</li>
                            <li><strong>test_size</strong> (float) - The test size parameter of the train_test_split function.</li>
                        </ul>
                        <p>Returns:</p>
                        <ul>
                            <li><strong>best_params</strong> (int) - The optimal value of the random_state parameter.</li>
                            <li><strong>best_score</strong> (float) - The corresponding score of the optimal value of the random_state parameter.</li>
                        </ul>
                    </div>


                    <div class="method">
                        <h5>inferDataToCSV</h5>
                        <p>A method that infers the data and saves it to a CSV file.</p>
                        <ul>
                            <li><strong>model</strong> (Type) - The model that will be used to make the predictions.</li>
                            <li><strong>vectorizer</strong> (Type) - The vectorizer that will be used to transform the data.</li>
                            <li><strong>filename</strong> (str) - The name of the CSV file that will be created.</li>
                        </ul>
                    </div>
                    <div class="method">
                        <h5>accuracy_conf_mat</h5>
                        <p>A method that calculates the accuracy and confusion matrix for a given model and vectorizer.</p>
                        <ul>
                            <li><strong>model</strong> (Type) - The model that will be used to make the predictions.</li>
                            <li><strong>vectorizer</strong> (Type) - The vectorizer that will be used to transform the data.</li>
                            <li><strong>X_train</strong> (Type) - The training data.</li>
                            <li><strong>y_train</strong> (Type) - The training labels.</li>
                            <li><strong>X_test</strong> (Type) - The test data.</li>
                            <li><strong>y_test</strong> (Type) - The test labels.</li>
                            <li><strong>target_names</strong> (Type) - The names of the target classes.</li>
                        </ul>
                    </div>

                </div>
            </div>
        </div>


        <div class="methods">
            <div class="method">
                <h3 id="datacleaner">DataCleaner</h3>
                <p>A class for cleaning and preprocessing data for text classification.</p>

                <h4>Exemple usage</h4>
                <p>
                    <code> sample code</code>
                </p>

                <h4>Attributes</h4>
                <ul>
                    <li><strong>cleaner</strong> (dict) - A dictionary containing methods for cleaning data.</li>
                </ul>

                <h4>Méthodes</h4>
                <div class="methods">
                    <div class="method">
                        <h5>__init__</h5>
                        <p>The class constructor.</p>
                    </div>

                    <div class="method">
                        <h5>remove_stop_words</h5>
                        <p>A method for removing stop words from a sentence.</p>
                        <ul>
                            <li><strong>sentence</strong> (str) - The input sentence to remove stop words from.</li>
                        </ul>
                    </div>

                    <div class="method">
                        <h5>lemmatize</h5>
                        <p>A method for lemmatizing the words in a sentence.</p>
                        <ul>
                            <li><strong>sentence</strong> (str) - The input sentence to lemmatize.</li>
                        </ul>
                    </div>

                    <div class="method">
                        <h5>data_cleaner</h5>
                        <p>A method for cleaning data.</p>
                        <ul>
                            <li><strong>sms</strong> (str) - The input data to clean.</li>
                        </ul>
                    </div>

                    <div class="method">
                        <h5>empty</h5>
                        <p>A method that does nothing.</p>
                        <ul>
                            <li><strong>sentence</strong> (str) - The input sentence to return unchanged.</li>
                        </ul>
                    </div>

                    <div class="method">
                        <h5>clean</h5>
                        <p>A method for applying cleaning methods to the data in a DataManager object.</p>
                        <ul>
                            <li><strong>datamanager</strong> (DataManager) - The DataManager object containing the data to clean.</li>
                            <li><strong>names</strong> (list) - A list of strings representing the names of the cleaning methods to apply.</li>
                        </ul>
                    </div>

                    <div class="method">
                        <h5>getCleaners</h5>
                        <p>A method for getting a list of cleaning methods.</p>
                        <ul>
                            <li><strong>names</strong> (list) - A list of strings representing the names of the cleaning methods to return.</li>
                        </ul>
                    </div>

                    <div class="method">
                        <h5>unClean</h5>
                        <p>A method to reset the data to its original form by setting the X_test and X_train attributes to their original values stored in initial_X_test and initial_X_train, respectively.</p>
                        <ul>
                            <li><strong>datamanager</strong> (DataManager object) - An object of the DataManager class which holds the data to be reset.</li>
                        </ul>
                    </div>

                </div>
            </div>
        </div>


        <div class="methods">
            <div class="method">
                <h3 id="datavectorizer">DataVectorizer</h3>
                <p>A class for vectorizing data for use in machine learning models.</p>

                <h4>Example usage</h4>
                <p>
                    <code>vectorizer = DataVectorizer()<br>
                        vectorizer.fit("count", datamanager)<br>
                        model.fit(datamanager.X_train, datamanager.y_train)
                    </code>
                </p>

                <h4>Attributs</h4>
                <ul>
                    <li><strong>vectorizer</strong> (dictionary) - A dictionary containing different vectorization objects as values, with keys for easy access.</li>
                </ul>

                <h4>Méthodes</h4>
                <div class="methods">

                    <div class="method">
                        <h5>__init__</h5>
                        <p>The class constructor.</p>
                    </div>

                    <div class="method">
                        <h5>setVectorizer</h5>
                        <p>A method for setting a vectorization object in the vectorizer dictionary.</p>
                        <ul>
                            <li><strong>name</strong> (string) - The key for accessing the vectorization object in the dictionary.</li>
                            <li><strong>vectorizer</strong> (object) - The vectorization object to be added to the dictionary.</li>
                        </ul>
                    </div>


                    <div class="method">
                        <h5>fit</h5>
                        <p>This method takes the name of a vectorization method and a DataManager object as inputs and fits the vectorization method to the data in the DataManager object. It updates the DataManager object's X_train and X_test attributes with the transformed data. The method is called like this:</p>
                        <p>
                            <code>DataVectorizer.fit(name, datamanager)</code>
                        </p>
                        <ul>
                            <li><strong>name</strong> (str) - The name of the vectorization method to use. Can be 'hash', 'count', or 'tfidf'.</li>
                            <li><strong>datamanager</strong> (DataManager) - The DataManager object containing the data to be transformed.</li>
                        </ul>
                    </div>

                    <div class="method">
                        <h5>unvectorize</h5>
                        <p>A method that sets the X_test and X_train attributes of the DataManager object back to their original form (before the vectorization).</p>
                        <ul>
                            <li><strong>datamanager</strong> (DataManager) - A DataManager object containing the X_test and X_train attributes to be modified.</li>
                        </ul>
                    </div>

                    <div class="method">
                        <h5>getVectorizers</h5>
                        <p>A method that returns a list of the specified vectorizers.</p>
                        <ul>
                            <li><strong>names</strong> (list of str) - A list of the names of the vectorizers to be returned.</li>
                        </ul>
                    </div>


                </div>
            </div>
        </div>


        <div class="methods">
            <div class="method">
                <h3 id="classifiermanager">ClassifierManager</h3>
                <p>A class that manages different types of classifiers and provides functions for training, evaluating and predicting with them.</p>

                <h4>Example usage</h4>
                <p>
                    <code> classifier_manager = ClassifierManager()
                        classifier_manager.displayNames()
                        classifier_manager.fit_predict('random_forest', datamanager, True) </code>
                </p>

                <h4>Attributes</h4>
                <ul>
                    <li><strong>classifier</strong> (dict) - A dictionary containing different classifiers as values, with their names as keys.</li>
                </ul>

                <h4>Methods</h4>
                <div class="methods">

                    <div class="method">
                        <h5>__init__</h5>
                        <p>The class constructor. Initializes the classifier manager with a dictionary containing several classifier algorithms, including Multinomial Naive Bayes, Logistic Regression, Random Forest, Decision Tree, Support Vector Machine (SVM), K-Nearest Neighbors (KNN), Linear SVM, and Voting Classifier. The Voting Classifier is initialized with an empty list of estimators and voting set to "hard".</p>
                        <ul>
                            <li><strong>self</strong> (ClassifierManager) - The object instance of the class.</li>
                        </ul>
                    </div>
                    <div class="method">
                        <h5>setClassifier</h5>
                        <p>Sets the specified classifier in the classifier dictionary with the given name to the given classifier object.</p>
                        <ul>
                            <li><strong>self</strong> (ClassifierManager) - The object instance of the class.</li>
                            <li><strong>name</strong> (str) - The name of the classifier in the dictionary.</li>
                            <li><strong>classifier</strong> (object) - The classifier object to set in the dictionary.</li>
                        </ul>
                    </div>
                    <div class="method">
                        <h5>displayNames</h5>
                        <p>Prints the names of all classifiers in the classifier dictionary.</p>
                        <ul>
                            <li><strong>self</strong> (ClassifierManager) - The object instance of the class.</li>
                        </ul>
                    </div>
                    <div class="method">
                        <h5>initVotingClassifier</h5>
                        <p>Initializes the Voting Classifier in the classifier dictionary with the given list of classifiers as estimators. The voting method is set to "hard".</p>
                        <ul>
                            <li><strong>self</strong> (ClassifierManager) - The object instance of the class.</li>
                            <li><strong>classifiers_names</strong> (list) - A list of strings representing the names of the classifiers to use as estimators in the Voting Classifier.</li>
                        </ul>
                    </div>

                    <div class="method">
                        <h5>getClassifiers</h5>
                        <p>Returns a list of classifiers that match the given names.</p>
                        <ul>
                            <li><strong>names</strong> (list of strings) - A list of the names of the classifiers to return.</li>
                        </ul>
                    </div>
                    <div class="method">
                        <h5>getClassifier</h5>
                        <p>Returns a single classifier that matches the given name.</p>
                        <ul>
                            <li><strong>name</strong> (string) - The name of the classifier to return.</li>
                        </ul>
                    </div>
                    <div class="method">
                        <h5>evaluate</h5>
                        <p>Prints evaluation metrics for the given true labels and predicted labels.</p>
                        <ul>
                            <li><strong>y_test</strong> (array-like) - The true labels of the test data.</li>
                            <li><strong>y_pred</strong> (array-like) - The predicted labels of the test data.</li>
                        </ul>
                    </div>
                    <div class="method">
                        <h5>fit_predict</h5>
                        <p>A method that trains and tests a classifier on a given data set and returns the classifier. It takes as input the name of the classifier, a DataManager object containing the data, a boolean indicating whether or not to print evaluation metrics, and optional parameters to set on the classifier.</p>
                        <ul>
                            <li><strong>name</strong> (string) - The name of the classifier to use.</li>
                            <li><strong>datamanager</strong> (DataManager) - The data to use for training and testing.</li>
                            <li><strong>verbose</strong> (bool) - A flag indicating whether or not to print evaluation metrics.</li>
                            <li><strong>params</strong> (dict) - Optional parameters to set on the classifier.</li>
                        </ul>
                        <p>Returns: the trained classifier.</p>
                    </div>

                    <div class="method">
                        <h5>predict</h5>
                        <p>This method takes a <code>datamanager</code> object and a <code>classifier</code> object as input and returns the predictions made by the classifier on the data stored in the <code>datamanager</code> object.</p>
                        <ul>
                            <li><strong>datamanager</strong> (DataManager) - An object of the <code>DataManager</code> class that holds the data to make predictions on.</li>
                            <li><strong>classifier</strong> (sklearn classifier) - A scikit-learn classifier object used to make predictions.</li>
                        </ul>
                    </div>
                    <div class="method">
                        <h5>fit_predict_all</h5>
                        <p>This method takes a <code>datamanager</code> object and a boolean <code>verbose</code> flag as input and fits and predicts with all the classifiers stored in the <code>classifier</code> attribute of the <code>ClassifierManager</code> object on the data stored in the <code>datamanager</code> object. If <code>verbose</code> is set to <code>True</code>, the evaluation metrics for each classifier will be printed.</p>
                        <ul>
                            <li><strong>datamanager</strong> (DataManager) - An object of the <code>DataManager</code> class that holds the data to make predictions on.</li>
                            <li><strong>verbose</strong> (bool) - A flag that indicates whether to print the evaluation metrics for each classifier or not.</li>
                        </ul>
                    </div>

                    <div class="method">
                        <h5>searchBestCombinations</h5>
                        <p>This method takes a <code>datamanager</code> object, three lists of strings <code>vectorizers_names</code>, <code>classifiers_names</code> and <code>data_cleaners_names</code> as input and searches for the best combination of vectorizers, classifiers and data cleaners for the data stored in the <code>datamanager</code> object using a grid search. It returns a list of dictionaries containing the results for each combination of methods.</p>
                        <ul>
                            <li><strong>datamanager</strong> (DataManager) - An object of the <code>DataManager</code> class that holds the data to make predictions on.</li>
                            <li><strong>vectorizers_names</strong> (list of str) - A list of strings representing the names of the vectorizers to use in the grid search.</li>
                            <li><strong>classifiers_names</strong> (list of str) - A list of strings representing the names of the classifiers to use in the grid search.</li>
                            <li><strong>data_cleaners_names</strong> (list of str) - A list of strings representing the names of the data cleaners to use in the grid search.</li>
                        </ul>
                    </div>

                    <div class="method">
                        <h5>gridSearch</h5>
                        <p>This method performs a grid search to find the best combination of hyperparameters for a given classifier and data vectorizer. It takes in three arguments:</p>
                        <ul>
                            <li><strong>classifier_name</strong> (str) - The name of the classifier to use for the grid search.</li>
                            <li><strong>vectorizer_name</strong> (str) - The name of the data vectorizer to use for the grid search.</li>
                            <li><strong>param_grid</strong> (dict) - A dictionary containing the hyperparameters to test and the values to test for each hyperparameter.</li>
                        </ul>
                        <p>This method returns a tuple containing the best classifier and data vectorizer after the grid search has been completed.</p>
                        <h4>Example usage</h4>
                        <p>
                            <code>best_classifier, best_vectorizer = classifier_manager.gridSearch("random_forest", "tfidf", {"max_depth": [3, None], "max_features": [1, 3, 10], "min_samples_split": [2, 3, 10], "min_samples_leaf": [1, 3, 10], "bootstrap": [True, False], "criterion": ["gini", "entropy"]})</code>
                        </p>
                    </div>


                </div>
            </div>
        </div>



    </div>



</div>

</body>
</html>
